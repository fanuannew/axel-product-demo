<?xml version="1.0" encoding="UTF-8" ?> 
<Module>  
<ModulePrefs title="Axel_info_gadget" 
    scrolling="true"
   height="200" 
   width="180"
  title_url="http://www.axelbiotech.com"
/> 

  <UserPref name="title" display_name="title" datatype="string" required="false" default_value="Comments" />
  <UserPref name="pic" display_name="照片存放網址" required="true" default_value="http://www.axelbiotech.com"/>
  <UserPref name="pilink" display_name="照片超連結" required="true" default_value="http://www.axelbiotech.com"/>
  <UserPref name="feed" display_name="縮放連結" required="true" default_value="http://www.axelbiotech.com"/>
  <UserPref name="w_height" display_name="視窗高:" default_value="480"/>
  <UserPref name="w_width" display_name="視窗寬:" default_value="600"/>
  <UserPref name="bullout" display_name="開啟右上連結到全螢幕" datatype="bool" default_value="false" />
  <UserPref name="bullin" display_name="開啟右上連結到內部視窗" datatype="bool" default_value="false" />
  <UserPref name="ifrmin" display_name="預設鑲入iframe視窗" datatype="bool" default_value="false" />
  <UserPref name="ifrmlink" display_name="iframe連結:" required="true" default_value=""/>
  <Content type="html">
<![CDATA[
<script src="https://www.google.com/jsapi" type="text/javascript"></script>
<script>
var prefs = new gadgets.Prefs();
pic = prefs.getString("pic");
pilink = prefs.getString("pilink");
feed = prefs.getString("feed");
ifrmlink = prefs.getString("ifrmlink");
bullout = prefs.getBool("bullout");
bullin = prefs.getBool("bullin");
var html = "";

wheight = prefs.getInt("w_height");
wwidth = prefs.getInt("w_width");
var g_feed_arr = [];
g_feed_arr[0] = feed;
g_feed_arr[1] = pic;
g_feed_arr[2] = pilink;
g_feed_arr[3] = ifrmlink;

var PosX = (screen.width-wwidth)/2; 
var PosY = (screen.height-wheight)/2; 

var tit="";
var s_tit = prefs.getString("title");
if (s_tit)
{tit=gadgets.util.escapeString(s_tit);}

function OnLoad()
{
    document.getElementById('image').src = g_feed_arr[1];
    var a = document.getElementById('index');
    a.href = g_feed_arr[2];
    html="<a href='http://tw.yahoo.com/' id= index target='_blank'><img src='"+g_feed_arr[1]+"' id='image'></a>";
    document.getElementById("feed_title").innerHTML=html;
    
}
function SendMsg()
{
    if(bullout){
      window.open(g_feed_arr[0],'_blank', "width="+screen.width+",height="+screen.height +",left=0,top=0");
    }
    else if(bullin){
      if(document.getElementById("image").style.display == "block"){
        document.getElementById("image").style.display = "none";
        document.getElementById("iframe").style.display = "block";
      }
      else{
        document.getElementById("image").style.display = "block";
        document.getElementById("iframe").style.display = "none";
      }
    }else{
    window.open(g_feed_arr[0], "_blank", "height="+wheight+",width="+wwidth+",top="+PosY+",left="+PosX );
    }
}
google.setOnLoadCallback(OnLoad);
</script>
    <div style="float:right">
        <input style="float:right;width:25px;height:18px" type="button" value="↗" onclick="SendMsg()" />
        <a href=g_feed_arr[2] id= index target="_blank"><img src="nothing.jpg" style="display:block" id="image"></a>
        <iframe src="https://mail.google.com/tasks/ig" id="iframe" style='display:block' width="180px" height="180px"></iframe>
        <img src="https://www.google.com/chart?chc=sites&amp;cht=d&amp;chdp=sites&amp;chl=%5B%5BGoogle+%E5%B0%8F%E5%B7%A5%E5%85%B7'%3D20'f%5Cv'a%5C%3D0'10'%3D499'0'dim'%5Cbox1'b%5CF6F6F6'fC%5CF6F6F6'eC%5C0'sk'%5C%5BTasks'%5D'a%5CV%5C%3D12'f%5C%5DV%5Cta%5C%3D10'%3D0'%3D500'%3D397'dim'%5C%3D10'%3D10'%3D500'%3D397'vdim'%5Cbox1'b%5Cva%5CF6F6F6'fC%5CC8C8C8'eC%5C'a%5C%5Do%5CLauto'f%5C&amp;sig=YIlGVILkQlSGM6lcVu9mCCDqr9Q" data-igsrc="http://14.gmodules.com/ig/ifr?mid=14&amp;synd=trogedit&amp;url=http%3A%2F%2Fwww.google.com%2Fig%2Fmodules%2Ftasks.xml&amp;up_ShowTips=false&amp;up_CurrentListId=&amp;up_CurrentViewType=&amp;h=400&amp;w=100%25" data-type="ggs-gadget" data-props="align:left;borderTitle:Tasks;height:400;igsrc:http#58//14.gmodules.com/ig/ifr?mid=14&amp;synd=trogedit&amp;url=http%3A%2F%2Fwww.google.com%2Fig%2Fmodules%2Ftasks.xml&amp;up_ShowTips=false&amp;up_CurrentListId=&amp;up_CurrentViewType=&amp;h=400&amp;w=100%25;mid:14;scrolling:no;showBorder:true;showBorderTitle:true;spec:http#58//www.google.com/ig/modules/tasks.xml;up_CurrentListId:;up_CurrentViewType:;up_ShowTips:false;view:default;width:100%;" width="500" height="400" style="display:block;text-align:left;margin-right:auto;" class="igm"><br>
        
    </div><br>
     
  ]]> 
  </Content>
  </Module>