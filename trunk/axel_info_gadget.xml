<?xml version="1.0" encoding="UTF-8" ?> 
<Module>  
<ModulePrefs title="Dynamic Height" 
    scrolling="true"
   height="200" 
   width="180"
  title_url="http://www.axelbiotech.com"
/> 

  <UserPref name="title" display_name="title" datatype="string" required="false" default_value="Comments" />
  <UserPref name="pic" display_name="照片存放網址" required="true" default_value="http://www.axelbiotech.com"/>
  <UserPref name="pilink" display_name="照片超連結" required="true" default_value="http://www.axelbiotech.com"/>
  <UserPref name="feed" display_name="縮放連結" required="true" default_value="http://www.axelbiotech.com"/>
  <UserPref name="w_height" display_name="視窗高:" default_value="480"/>
  <UserPref name="w_width" display_name="視窗寬:" default_value="600"/>
  <Content type="html">
<![CDATA[
<script src="https://www.google.com/jsapi" type="text/javascript"></script>
<script>
var prefs = new gadgets.Prefs();
pic = prefs.getString("pic");
pilink = prefs.getString("pilink");
feed = prefs.getString("feed");
var html = "";

wheight = prefs.getInt("w_height");
wwidth = prefs.getInt("w_width");
var g_feed_arr = [];
g_feed_arr[0] = feed;
g_feed_arr[1] = pic;
g_feed_arr[2] = pilink;

var PosX = (screen.width-wwidth)/2; 
var PosY = (screen.height-wheight)/2; 

function OnLoad()
{
    document.getElementById('image').src = g_feed_arr[1];
    var a = document.getElementById('index');
    a.href = g_feed_arr[2];
    html="<a href='http://tw.yahoo.com/' id= index target='_blank'><img src='nothing.jpg' id='image'></a>";
    document.getElementById("feed_title").innerHTML=html;
    
}
function SendMsg()
{
    window.open(g_feed_arr[0], "_blank", "height="+wheight+",width="+wwidth+",top="+PosY+",left="+PosX );
}
google.setOnLoadCallback(OnLoad);
</script>
    <div style="float:right">
        <input style="float:right;width:25px;height:18px" type="button" value="↗" onclick="SendMsg()" />
       
    </div><br>
     <div id="feed_title"></div>
  ]]> 
  </Content>
  </Module>